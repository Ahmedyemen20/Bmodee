<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>تفاصيل اللعبة</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<a href="index.html" class="back-btn">⬅ رجوع</a>

<div class="game-details" id="gameDetails"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const params = new URLSearchParams(window.location.search);
  const gameName = params.get("name");

  const adminGames = JSON.parse(localStorage.getItem("adminGames")) || [];

  const baseGames = [
    {
      name: "Hay Day",
      img: "/unnamed (2).jpg",
      desc: "Hay Day Mod APK Unlimited Money",
      rating: 4.8,
      category: "strategy",
      versions: [{ v: "1.0", size: "150 MB", link: "#" }]
    }
  ];

  const allGames = [...baseGames, ...adminGames];

  const game = allGames.find(
    g => g.name.toLowerCase() === gameName?.toLowerCase()
  );

  if (!game) {
    document.body.innerHTML = `
      <div style="color:red;text-align:center;margin-top:50px;font-size:18px">
        ❌ اللعبة غير موجودة
      </div>
      <div style="text-align:center;margin-top:20px">
        <a href="index.html" style="color:gold">⬅ رجوع</a>
      </div>
    `;
    return;
  }

  document.getElementById("gameImg").src = game.img;
  document.getElementById("gameName").textContent = game.name;
  document.getElementById("gameDesc").textContent = game.desc || "";

  const versionsDiv = document.getElementById("versions");
  versionsDiv.innerHTML = "";

  game.versions.forEach(v => {
    const div = document.createElement("div");
    div.className = "version";
    div.innerHTML = `
      <span>${v.v}</span>
      <span>${v.size || ""}</span>
      <a href="${v.link}" target="_blank">تحميل</a>
    `;
    versionsDiv.appendChild(div);
  });

});
</script>

</body>
</html>
